<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weeks</title>
    <style>
        body {
            font-family: Arial, sans-serif;

        }

        .week {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            cursor: pointer;
        }
    </style>
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <h3 class="banner" style="text-align: center;">Plan Viewer</h3>
    <div class="main">
        <script>
            function openWebPage() {
                // Get the current URL parameters
                const params = new URLSearchParams(window.location.search);

                // Construct the new URL with the parameters
                const newUrl = 'index.html?' + params.toString(); // Change this to your target URL

                // Open the new URL in a new tab
                window.open(newUrl, '_self');
            }
        </script>
        <button onclick="openWebPage()">Back</button>
        <h1>All Weeks in Plan <u><span id="name" style="color: rgb(32, 0, 255)"></span></u></h1>
        <div id="weeksContainer"></div>

        <script src="script.js"></script> <!-- Include your plans data -->
        <script>
            // Retrieve the plan index from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const planIndex = urlParams.get('planIndex');

            function renderWeeks() {
                const weeksContainer = document.getElementById('weeksContainer');
                weeksContainer.innerHTML = ''; // Clear the container

                const weeks = newPlans[planIndex].weeks; // Get all weeks in the selected plan
                for (i = 0; i < weeks; i++) {
                    const weekDiv = document.createElement('div');
                    weekDiv.classList.add('week');
                    weekDiv.innerText = "Week " + (i + 1);
                    document.getElementById("name").innerHTML = newPlans[planIndex].name
                    const x = i
                    weekDiv.onclick = () => {
                        window.open(createLink(x), "_self") // Redirect to workouts page
                    };
                    weeksContainer.appendChild(weekDiv);
                }
            }

            // Call renderWeeks to load data
            renderWeeks();
        </script>
        <script>
            function createLink(week) {
                const urlParams = new URLSearchParams(window.location.search);
                const planIndex = urlParams.get('planIndex');
                const weekIndex = urlParams.get('weekIndex');
                const workoutIndex = urlParams.get('workoutIndex');

                folderName = ""
                baseName = ""

                switch (parseInt(planIndex)) {
                    case 0:
                        folderName = "UNRANKED EARLY OFF SEASON"
                        baseName = "UNRANKED_ Early Off-Season _ PJF Performance"
                        break;
                    case 1:
                        folderName = "UNRANKED LATE OFF SEASON"
                        baseName = "UNRANKED_ Late Off-Season _ PJF Performance"
                        break;
                    case 2:
                        folderName = "UNRANKED PRE SEASON"
                        baseName = "UNRANKED_ Pre-Season _ PJF Performance"
                        break;
                    case 3:
                        folderName = "UNRANKED IN SEASON"
                        baseName = "UNRANKED_ In-Season _ PJF Performance"
                        break;
                    case 4:
                        folderName = "Skill Code"
                        baseName = "Skill Code _ PJF Performance"
                        break;
                    case 5:
                        folderName = "Handle Snacks"
                        baseName = "Handle Snacks _ PJF Performance"
                        break;
                    case 6:
                        folderName = "Twitch"
                        baseName = "The Twitch Code _ PJF Performance"
                        break;
                    case 7:
                        folderName = "Basketball Athleticism Code"
                        baseName = "Basketball Athleticism Code _ PJF Performance"
                        break;
                    case 8:
                        folderName = "Basketball Strength Code"
                        baseName = "Basketball Strength Code _ PJF Performance"
                        break;
                    case 9:
                        folderName = "Hoop IQ"
                        baseName = "Hoop IQ Vault _ PJF Performance"
                        break;
                    case 10:
                        folderName = "Lifestyle"
                        baseName = "Lifestyle Development _ PJF Performance"
                        break;
                    case 11:
                        folderName = "Mindset"
                        baseName = "Mindset Development _ PJF Performance"
                        break;
                }
                params = "?planIndex=" + planIndex + "&weekIndex=" + (week+1)
                const newLink = folderName + "/" + baseName + "_W" + (week+1) + "_D1.htm" + params;
                return newLink
            }


        </script>
    </div>
</body>

</html>